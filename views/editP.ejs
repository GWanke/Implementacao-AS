<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Edição do paciente</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<style>

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 90%;
}

td, th {
  border: 1px solid black;
  text-align: left;
  padding: 8px;
}

.container {
  width: 500px;
  clear: both;
}

.container input {
  width: 100%;
  clear: both;
}

.btn {
  cursor: pointer;
  font-size: 16px;  
  outline: none;
  color: black;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}




</style>
<body>
	<h2>Editar Paciente <%=id%></h2>
	<div class = 'container'>
    <form id = 'Paciente' action="/confCad" method="POST">
        Nome: <input type="text" name="nome" pattern="^[a-zA-Z]+$"> <br>
        CPF: <input type="text" name="CPF" id = "CPF" pattern = "^[0-9]{9}$"> <br>
        RG: <input type="text" name="RG" id = "RG" pattern = "^[0-9]{9}$"> <br>
        E-mail: <input type="email"name="email" id = "email" pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"><br>
        Data de nascimento: <input type="datetime-local" name="date" id = "date" pattern = "^(?:(?:(?:0?[1-9]|1\d|2[0-8])\/(?:0?[1-9]|1[0-2]))\/(?:(?:1[6-9]|[2-9]\d)\d{2}))$|^(?:(?:(?:31\/0?[13578]|1[02])|(?:(?:29|30)\/(?:0?[1,3-9]|1[0-2])))\/(?:(?:1[6-9]|[2-9]\d)\d{2}))$|^(?:29\/0?2\/(?:(?:(?:1[6-9]|[2-9]\d)(?:0[48]|[2468][048]|[13579][26]))))$"> <br>
        Convenio: <input list="convenios" name ="convenio" id = "convenio">
        <datalist id="convenios">
        	<option value="N.D.A">
            <option value="Unimed">
            <option value="Bradesco">
            <option value="Sulamerica">
            <option value="Judicimed">
            <option value="Amil">
        </datalist>
        <br>  
        <button type="submit">Salvar</button> 
    </form>
</div>
	<h2>Histórico do Paciente</h2>
	<table id = 'tabela' >
  <tr>
    <th>Exame</th>
    <th>Amostra</th>
    <th>Data Colheira de Amostra</th>
    <th>Status</th>
    <th>Ações</th>
  </tr>
  <tr>
    <td>Hemograma,Colesterol e Acido úrico</td> 
    <td>Sanguínea</td>
    <td>17/11/2020</td>
    <td>Em Análise</td>
    <td><button class="btn" onclick = "window.location.href ='#';">Exportar Resultado
        	<i class="fa fa-file-pdf-o" ></i></button>
    	<button class="btn" onclick = "window.location.href ='#';">Encaminhar por Email  
      		<i class="fa fa-envelope"></i></button>
      	<button class="btn" onclick = "window.location.href ='#';">Solicitar Checagem  
      		<i class="fa fa-flag-o"></i></button>
      	</td>
  </tr>
  <tr>
    <td>EAS</td> 
    <td>Urina</td>
    <td>25/04/2018</td>
    <td>Finalizado</td>
    <td><button class="btn" onclick = "window.location.href ='#';">Exportar Resultado
        	<i class="fa fa-file-pdf-o" ></i></button>
    	<button class="btn" onclick = "window.location.href ='#';">Encaminhar por Email  
      		<i class="fa fa-envelope"></i></button>
      	<button class="btn" onclick = "window.location.href ='#';">Solicitar Checagem  
      		<i class="fa fa-flag-o"></i></button>
      	</td>
  </tr>
  <tr>
    <td>Parasitológico</td> 
    <td>Fezes</td>
    <td>22/03/2017</td>
    <td>Finalizado</td>
    <td><button class="btn" onclick = "window.location.href ='#';">Exportar Resultado
        	<i class="fa fa-file-pdf-o" ></i></button>
    	<button class="btn" onclick = "window.location.href ='#';">Encaminhar por Email  
      		<i class="fa fa-envelope"></i></button>
      	<button class="btn" onclick = "window.location.href ='#';">Solicitar Checagem  
      		<i class="fa fa-flag-o"></i></button>
      	</td>
  </tr>
</table>

    <a href="/home" method = "POST"><button>Voltar</button></a>
<script>
//preenche tabela com as entradas.
window.onload=function(){
	const id = parseInt("<%=id%>")
	const form = document.getElementById('Paciente').elements 
	switch(id){
		case 1:
			form[0].placeholder = 'Alfredo de Lima Bueno'
			form[1].placeholder = '08495307090'
			form[2].placeholder = '072040356'
			form[3].placeholder = 'ABuenoL@hotmail.com'
			form[4].placeholder = '28/03/1984'
			form[5].placeholder = 'Unimed'
			break;
		case 2:
			form[0].placeholder = 'Fedro dos Santos'
			form[1].placeholder = '40409945721'
			form[2].placeholder = '567908432'
			form[3].placeholder = 'F_Santos@gmail.com'
			form[4].placeholder = '13/05/1994'
			form[5].placeholder = 'Sulamerica'
			break;
		case 3:
			form[0].placeholder = 'Pauliane de Freitas'
			form[1].placeholder = '87519538209'
			form[2].placeholder = '856328956'
			form[3].placeholder = 'Freitas82@outlook.com'
			form[4].placeholder = '28/03/1982'
			form[5].placeholder = 'N.D.A'
			break;
		case 4:
			form[0].placeholder = 'Claudecir de Oliveira'
			form[1].placeholder = '14598385392'
			form[2].placeholder = '096439862'
			form[3].placeholder = 'Oiveira72@uol.com.br'
			form[4].placeholder = '02/11/2005'
			form[5].placeholder = 'Bradesco'
			break;
		case 5:
			form[0].placeholder = 'Ramone Rodrigues de Souza'
			form[1].placeholder = '87632189467'
			form[2].placeholder = '846291730'
			form[3].placeholder = 'RRS02@gmail.com'
			form[4].placeholder = '08/10/1972'
			form[5].placeholder = 'Amil'
			break;
		}
	const linhas = document.getElementById('tabela').rows;
	for (i=1 ; i<linhas.length ; i++){
		if (linhas[i].cells[3].innerHTML !== 'Finalizado'){
			const botoes = linhas[i].querySelectorAll(".btn")
			botoes.forEach(botao => {
        		botao.style.display = 'none';
      		});
		}
	}
}
</script>
</body>
</html>